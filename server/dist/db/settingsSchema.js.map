{"version":3,"file":"settingsSchema.js","sources":["db/settingsSchema.ts"],"sourceRoot":"/","sourcesContent":["import { z } from 'zod';\nimport { TIME_ZONES } from './timeZones.js';\nimport { TimeSchema } from './schedulesSchema.js';\n\nexport const TEMPERATURES = ['celsius', 'fahrenheit'] as const;\nconst Temperatures = z.enum(TEMPERATURES);\n\nconst TemperatureTapConfig = z.object({\n  type: z.literal('temperature'),\n  change: z.enum(['increment', 'decrement']),\n  amount: z.number().min(0).max(10),\n});\n\nconst AlarmTapConfig = z.object({\n  type: z.literal('alarm'),\n  behavior: z.enum(['snooze', 'dismiss']),\n  snoozeDuration: z.number().min(60).max(600),\n  inactiveAlarmBehavior: z.enum(['power', 'none'])\n});\n\nexport const TapConfig = z.discriminatedUnion('type', [\n  TemperatureTapConfig,\n  AlarmTapConfig,\n]);\n\nexport const GestureSchema = z.enum(['doubleTap', 'tripleTap', 'quadTap']);\n\nconst SideSettingsSchema = z.object({\n  name: z.string().min(1).max(20),\n  awayMode: z.boolean(),\n  scheduleOverrides: z.object({\n    temperatureSchedules: z.object({\n      disabled: z.boolean(),\n      expiresAt: z.string(),\n    }),\n    alarm: z.object({\n      disabled: z.boolean(),\n      timeOverride: z.string(),\n      expiresAt: z.string(),\n    })\n  }),\n  taps: z.object({\n    doubleTap: TapConfig,\n    tripleTap: TapConfig,\n    quadTap: TapConfig,\n  })\n}).strict();\n\nexport const SettingsSchema = z.object({\n  id: z.string(),\n  timeZone: z.enum(TIME_ZONES),\n  left: SideSettingsSchema,\n  right: SideSettingsSchema,\n  primePodDaily: z.object({\n    enabled: z.boolean(),\n    time: TimeSchema,\n  }),\n  temperatureFormat: Temperatures,\n  rebootDaily: z.boolean(),\n}).strict();\n\nexport type SideSettings = z.infer<typeof SideSettingsSchema>;\nexport type Settings = z.infer<typeof SettingsSchema>;\nexport type Gesture = z.infer<typeof GestureSchema>\n"],"names":[],"mappings":"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","debug_id":"9daf3eb0-02a8-5fec-b6e7-8e85ce5790b6"}